#install.packages("dplyr")
library(dplyr)
library(ggplot2)
library(knitr)
#################################################################################################
# LOAD INITIAL DATA FRAMES
deaths<-read.csv("data/deaths.csv")
#Set Up
library(dplyr)
library(knitr)
library(ggplot2)
#Set Up
library(dplyr)
library(knitr)
library(ggplot2)
#Load Data
death_data <- read.csv("data/deaths.csv")
#Set Up
library(dplyr)
library(knitr)
library(ggplot2)
#Load Data
death_data <- read.csv("data/deaths.csv")
ylds_data <- read.csv("data/ylds.csv")
lifeEx_data <- read.csv("data/life_expectancy.csv")
View(lifeEx_data)
View(ylds_data)
#install.packages("dplyr")
library(dplyr)
library(ggplot2)
library(knitr)
#################################################################################################
# LOAD INITIAL DATA FRAMES
deaths<-read.csv("data/deaths.csv")
ylds<-read.csv("data/ylds.csv")
life_ex<-read.csv("data/life_expectancy.csv")
#################################################################################################
# MERGING DATA FRAMES
join<-merge(deaths,ylds, by = c("cause_name","age","sex"))
join[is.na(join)]<-0
prep_data<-merge(join,life_ex, by = "age")
prep_data %>% arrange(cause_name) %>% mutate(age_group = substr(age, 1, 2)) -> prep_data
prep_data[prep_data$age_group=='Un',"age_group"]<- 0
prep_data$age_group<-as.numeric(prep_data$age_group)
prep_data$life.ex.up <- prep_data$life.expectancy + prep_data$age_group
#################################################################################################
# COMPUTING YLL AND DALY
prep_data$yll<- (prep_data$life.ex.up - prep_data$age_group)*prep_data$deaths
prep_data$dalys<-prep_data$yll + prep_data$ylds
#################################################################################################
# AGGREGATING DATA PER CAUSE, AGE AND SEX
prep_data %>%
group_by(cause_name) %>%
summarise( total_dalys = sum(dalys),
total_ylls = sum(yll),
total_ylds = sum(ylds),
total_deaths = sum(deaths)) -> cause_data
cause_data %>% arrange(-total_dalys) -> temp
top_cause_data<- head(temp,10)
prep_data %>%
group_by(age) %>%
summarise( total_dalys = sum(dalys),
total_ylls = sum(yll),
total_ylds = sum(ylds),
total_deaths = sum(deaths))-> age_data
prep_data %>%
group_by(age,sex) %>%
summarise( total_dalys = sum(dalys),
total_ylls = sum(yll),
total_ylds = sum(ylds),
total_deaths = sum(deaths))-> sex_data
kable(top_cause_data, caption = "Top Causes of Health Burdens in India and their metrics")
View(age_data)
View(cause_data)
View(death_data)
View(sex_data)
View(ylds_data)
View(ylds)
View(prep_data)
suicide <- read.csv('data/suicide.csv')
setwd("~/Desktop/INFO478/HealthReport-TeamBug/External Factors")
suicide <- read.csv('data/suicide.csv')
View(suicide)
suicide <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....)
library(dplyr)
library(tidyr)
library(ggplot2)
suicide <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....)
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(year) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE))
View(suicide_rate)
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(year, country) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE))
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(country, year) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE))
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(country, year) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE)) %>%
group_by(country) %>% summarise(suicide_rate = mean(suicide_rate))
health_spend <- read.csv('data/health_spending.csv')
unemployment <- read.csv('data/unemployment.csv')
View(health_spend)
health_spend <- health_spend %>% gather(year, value, -1)
health_spend <- health_spend %>% gather(year, value, -1) %>% na.omit()
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>% summarise(value = mean(value))
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(value = mean(value, na.rm = TRUE))
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
suicide <- read.csv('data/suicide.csv')
health_spend <- read.csv('data/health_spending.csv')
unemployment <- read.csv('data/unemployment.csv')
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(country, year) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE)) %>%
group_by(country) %>% summarise(suicide_rate = mean(suicide_rate))
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(value = mean(value, na.rm = TRUE))
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(value = mean(value, na.rm = TRUE)) %>% filter(value != "NaN")
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
colnames(health_spend) <- c('country', 'unemploy_rate')
library(plyr)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
setwd("~/Desktop/INFO478/HealthReport-TeamBug/External Factors")
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(unemploy_rate = mean(value, na.rm = TRUE)) %>% filter(unemploy_rate != "NaN")
health_spend <- read.csv('data/health_spending.csv')
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(unemploy_rate = mean(value, na.rm = TRUE)) %>% filter(unemploy_rate != "NaN")
health_spend <- read.csv('data/health_spending.csv')
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(unemploy_rate = mean(value, na.rm = TRUE))
health_spend <- read.csv('data/health_spending.csv')
health_spend <- health_spend %>% gather(year, value, -1)
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(unemploy_rate = mean(value, na.rm = TRUE))
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
health_spend <- read.csv('data/health_spending.csv')
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(unemploy_rate = mean(value))
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
setwd("~/Desktop/INFO478/HealthReport-TeamBug/External Factors")
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
all_data <- join(suicide_rate, health_spend, type = 'left')
View(all_data)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(unemployment)
unemployment <- select(-Country.Code)
names(unemployment)
unemployment <- select(Country.Code)
unemployment <- select(X2010)
unemployment <- read.csv('data/unemployment.csv')
unemployment <- unemployment %>% select(-Country.Code)
unemployment <- unemployment %>% select(-Country.Code) %>% gather(year, unemployment)
unemployment <- unemployment %>% select(-Country.Code) %>% gather(year, unemployment, -1)
unemployment <- unemployment %>% select(-Country.Code)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
gdp <- suicide %>% select(gdp_per_capita....)
View(gdp)
gdp <- suicide %>% select(country, gdp_per_capita....)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
gdp <- suicide %>% select(country, gdp_per_capita...., year)
gdp <- suicide %>% select(country, gdp_per_capita...., year) %>% group_by(country) %>%
summarise(gdp = mean(gdp))
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
suicide <- read.csv('data/suicide.csv')
health_spend <- read.csv('data/health_spending.csv')
unemployment <- read.csv('data/unemployment.csv')
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(country, year) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE)) %>%
group_by(country) %>% summarise(suicide_rate = mean(suicide_rate))
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(health_spend = mean(value, na.rm = T)) %>% filter(health_spend != "NaN")
colnames(health_spend) <- c('country', 'health_spend')
all_data <- join(suicide_rate, health_spend, type = 'left', by = 'country')
unemployment <- unemployment %>% select(-Country.Code) %>% gather(year, unemployment, -1) %>%
group_by(Country.Name) %>% summarise(unemployment = mean(unemployment, na.rm = T))
colnames(unemployment) <- c('country', 'unemployment')
all_data <- join(all_data, unemployment, type = 'left', by = 'country')
gdp <- suicide %>% select(country, gdp_per_capita...., year) %>% group_by(country)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(gdp)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(gdp)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(gdp)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(gdp)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(gdp)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(gdp)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
warning()
warnings()
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
warnings()
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
View(all_data)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/analysis.R')
ggplot(all_data, aes(x=suicide_rate, y=gdp)) +
geom_point()+
geom_smooth()
ggplot(all_data, aes(x=suicide_rate, y=health_spend)) +
geom_point()+
geom_smooth()
ggplot(all_data, aes(x=suicide_rate, y=unemployment)) +
geom_point()+
geom_smooth()
ggplot(all_data, aes(x=suicide_rate, y=unemployment)) +
geom_point()+
geom_smooth(method=lm, se=FALSE)
ggplot(all_data, aes(x=suicide_rate, y=gdp)) +
geom_point()+
geom_smooth(method=lm, se=FALSE)
ggplot(all_data, aes(x=suicide_rate, y=health_spend)) +
geom_point()+
geom_smooth(method=lm, se=FALSE)
shiny::runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
install.packages("shinythemes")
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
install.packages("plotly")
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
ggplot(all_data, aes(x=suicide_rate, y=gdp)) +
geom_point()+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp)) +
geom_point(size = 6)+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp)) +
geom_point(size = 2)+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp), size = 3) +
geom_point(size = 2)+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp), width = 12) +
geom_point(size = 2)+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp, size = 3)) +
geom_point(size = 2)+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp, size = 10)) +
geom_point(size = 2)+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp, size = 20)) +
geom_point(size = 2)+
geom_smooth(method=lm)
ggplot(all_data, aes(x=suicide_rate, y=gdp)) +
geom_point(size = 2)+
geom_smooth(method=lm)
View(all_data)
source('~/Desktop/INFO478/HealthReport-TeamBug/External Factors/carol_analysis.R')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/INFO-201-Group-Project-')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp()
setwd("~/Desktop/INFO478/HealthReport-TeamBug/Suicide478")
runApp()
runApp()
source('~/Desktop/INFO478/HealthReport-TeamBug/Overall-Claire/analysis.R')
setwd("~/Desktop/INFO478/HealthReport-TeamBug/Overall-Claire")
source('~/Desktop/INFO478/HealthReport-TeamBug/Overall-Claire/analysis.R')
View(data)
View(df)
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
setwd("~/Desktop/INFO478/HealthReport-TeamBug/External_Factors")
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/prepare_data.R')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/carol_analysis.R')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
ggplot(all_data, aes(x=suicide_rate, y=health_spend)) +
geom_point()+
geom_smooth(method=lm)+
labs(title = 'The relationship between Health Expenditure and Suicide Rate', x = 'Suicide Rate',
y = 'Health Expenditure')
ggplot(all_data, aes(x=suicide_rate, y=health_spend)) +
geom_point()+
geom_smooth(method=lm, se=FALSE)+
labs(title = 'The relationship between Health Expenditure and Suicide Rate', x = 'Suicide Rate',
y = 'Health Expenditure')
suicide <- read.csv('data/suicide.csv')
health_spend <- read.csv('data/health_spending.csv')
unemployment <- read.csv('data/unemployment.csv')
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(country, year) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE)) %>%
group_by(country) %>% summarise(suicide_rate = mean(suicide_rate))
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(health_spend = mean(value, na.rm = T)) %>% filter(health_spend != "NaN")
colnames(health_spend) <- c('country', 'health_spend')
all_data <- join(suicide_rate, health_spend, type = 'left', by = 'country')
unemployment <- unemployment %>% select(-Country.Code) %>% gather(year, unemployment, -1) %>%
group_by(Country.Name) %>% summarise(unemployment = mean(unemployment, na.rm = T))
colnames(unemployment) <- c('country', 'unemployment')
all_data <- join(all_data, unemployment, type = 'left', by = 'country')
gdp <- suicide %>% select(country, gdp_per_capita...., year) %>% distinct() %>% group_by(country) %>%
summarise(gdp = round(mean(gdp_per_capita...., na.rm = T), 0))
all_data <- join(all_data, gdp, type = 'left', by = 'country') %>% drop_na()
ggplot(all_data, aes(x=suicide_rate, y=health_spend)) +
geom_point()+
geom_smooth(method=lm, se=FALSE)+
labs(title = 'The relationship between Health Expenditure and Suicide Rate', x = 'Suicide Rate',
y = 'Health Expenditure')
suicide <- read.csv('data/suicide.csv')
health_spend <- read.csv('data/health_spending.csv')
unemployment <- read.csv('data/unemployment.csv')
suicide_rate <- suicide %>% select(country, year, suicides.100k.pop, gdp_per_capita....) %>%
group_by(country, year) %>% summarise(suicide_rate = sum(suicides.100k.pop, na.rm = TRUE)) %>%
group_by(country) %>% summarise(suicide_rate = mean(suicide_rate))
health_spend <- health_spend %>% gather(year, value, -1) %>% group_by(X) %>%
summarise(health_spend = mean(value, na.rm = T)) %>% filter(health_spend != "NaN")
colnames(health_spend) <- c('country', 'health_spend')
all_data <- join(suicide_rate, health_spend, type = 'left', by = 'country')
unemployment <- unemployment %>% select(-Country.Code) %>% gather(year, unemployment, -1) %>%
group_by(Country.Name) %>% summarise(unemployment = mean(unemployment, na.rm = T))
colnames(unemployment) <- c('country', 'unemployment')
all_data <- join(all_data, unemployment, type = 'left', by = 'country')
gdp <- suicide %>% select(country, gdp_per_capita...., year) %>% distinct() %>% group_by(country) %>%
summarise(gdp = round(mean(gdp_per_capita...., na.rm = T), 0))
all_data <- join(all_data, gdp, type = 'left', by = 'country')
source('~/Desktop/INFO478/HealthReport-TeamBug/External_Factors/prepare_data.R')
ggplot(all_data, aes(x=suicide_rate, y=health_spend)) +
geom_point()+
geom_smooth(method=lm, se=FALSE)+
labs(title = 'The relationship between Health Expenditure and Suicide Rate', x = 'Suicide Rate',
y = 'Health Expenditure')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
ggplot(all_data, aes(x=suicide_rate, y=gdp)) +
geom_point()+
geom_smooth(method=lm)+
labs(title = 'The relationship between GDP and Suicide Rate', x = 'Suicide Rate',
y = 'GDP Per Capita')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
runApp('~/Desktop/INFO478/HealthReport-TeamBug/Suicide478')
